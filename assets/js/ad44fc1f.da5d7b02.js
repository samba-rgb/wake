"use strict";(globalThis.webpackChunkdocs_ui=globalThis.webpackChunkdocs_ui||[]).push([[400],{525(e,n,t){t.r(n),t.d(n,{assets:()=>r,contentTitle:()=>c,default:()=>d,frontMatter:()=>a,metadata:()=>i,toc:()=>l});const i=JSON.parse('{"id":"features/kubernetes-context","title":"Kubernetes Context Management","description":"Wake provides robust Kubernetes context management capabilities, allowing you to seamlessly work across multiple clusters and namespaces. This feature is essential for teams managing development, staging, and production environments.","source":"@site/docs/features/kubernetes-context.md","sourceDirName":"features","slug":"/features/kubernetes-context","permalink":"/docs/features/kubernetes-context","draft":false,"unlisted":false,"editUrl":"https://github.com/samba-rgb/wake/tree/main/docs-ui/docs/features/kubernetes-context.md","tags":[],"version":"current","sidebarPosition":7,"frontMatter":{"sidebar_position":7},"sidebar":"tutorialSidebar","previous":{"title":"Monitor","permalink":"/docs/features/monitor"},"next":{"title":"External Links","permalink":"/docs/reference/external-links"}}');var o=t(4848),s=t(8453);const a={sidebar_position:7},c="Kubernetes Context Management",r={},l=[{value:"Overview",id:"overview",level:2},{value:"Basic Context Usage",id:"basic-context-usage",level:2},{value:"Using Current Context",id:"using-current-context",level:3},{value:"Specifying a Different Context",id:"specifying-a-different-context",level:3},{value:"Context Configuration",id:"context-configuration",level:2},{value:"Listing Available Contexts",id:"listing-available-contexts",level:3},{value:"Setting Default Context",id:"setting-default-context",level:3},{value:"Advanced Context Management",id:"advanced-context-management",level:2},{value:"Multi-Cluster Operations",id:"multi-cluster-operations",level:3},{value:"Context-Specific Configuration",id:"context-specific-configuration",level:3},{value:"Kubeconfig File Management",id:"kubeconfig-file-management",level:2},{value:"Custom Kubeconfig Files",id:"custom-kubeconfig-files",level:3},{value:"Multiple Kubeconfig Files",id:"multiple-kubeconfig-files",level:3},{value:"Namespace Management",id:"namespace-management",level:2},{value:"Cross-Namespace Monitoring",id:"cross-namespace-monitoring",level:3},{value:"Namespace Patterns",id:"namespace-patterns",level:3},{value:"Environment-Specific Workflows",id:"environment-specific-workflows",level:2},{value:"Development Workflow",id:"development-workflow",level:3},{value:"Staging Validation",id:"staging-validation",level:3},{value:"Production Monitoring",id:"production-monitoring",level:3},{value:"Security and Best Practices",id:"security-and-best-practices",level:2},{value:"Context Isolation",id:"context-isolation",level:3},{value:"Configuration Management",id:"configuration-management",level:3},{value:"Access Control",id:"access-control",level:3},{value:"Troubleshooting Context Issues",id:"troubleshooting-context-issues",level:2},{value:"Common Problems",id:"common-problems",level:3},{value:"Debugging Commands",id:"debugging-commands",level:3},{value:"Integration Examples",id:"integration-examples",level:2},{value:"CI/CD Pipeline Integration",id:"cicd-pipeline-integration",level:3},{value:"Multi-Environment Monitoring",id:"multi-environment-monitoring",level:3},{value:"Configuration Tips",id:"configuration-tips",level:2}];function u(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,s.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.header,{children:(0,o.jsx)(n.h1,{id:"kubernetes-context-management",children:"Kubernetes Context Management"})}),"\n",(0,o.jsx)(n.p,{children:"Wake provides robust Kubernetes context management capabilities, allowing you to seamlessly work across multiple clusters and namespaces. This feature is essential for teams managing development, staging, and production environments."}),"\n",(0,o.jsx)(n.h2,{id:"overview",children:"Overview"}),"\n",(0,o.jsx)(n.p,{children:"Wake automatically detects and works with your current Kubernetes configuration, supporting multiple contexts and providing easy switching between different clusters and namespaces."}),"\n",(0,o.jsx)(n.h2,{id:"basic-context-usage",children:"Basic Context Usage"}),"\n",(0,o.jsx)(n.h3,{id:"using-current-context",children:"Using Current Context"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"# Wake uses your current kubectl context by default\nwake --ui\n\n# Check which context Wake is using\nkubectl config current-context\n"})}),"\n",(0,o.jsx)(n.h3,{id:"specifying-a-different-context",children:"Specifying a Different Context"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"# Use a specific context for Wake operations\nwake --context staging-cluster --ui\n\n# Combine with namespace selection\nwake --context production --namespace apps --ui\n"})}),"\n",(0,o.jsx)(n.h2,{id:"context-configuration",children:"Context Configuration"}),"\n",(0,o.jsx)(n.h3,{id:"listing-available-contexts",children:"Listing Available Contexts"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"# List all available Kubernetes contexts\nkubectl config get-contexts\n\n# Wake will work with any context from this list\nwake --context <context-name> --ui\n"})}),"\n",(0,o.jsx)(n.h3,{id:"setting-default-context",children:"Setting Default Context"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"# Switch your default context\nkubectl config use-context production-cluster\n\n# Now Wake will use this context by default\nwake --ui\n"})}),"\n",(0,o.jsx)(n.h2,{id:"advanced-context-management",children:"Advanced Context Management"}),"\n",(0,o.jsx)(n.h3,{id:"multi-cluster-operations",children:"Multi-Cluster Operations"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:'# Monitor logs from staging cluster\nwake --context staging --namespace apps --ui\n\n# Switch to production cluster in another terminal\nwake --context production --namespace production --ui\n\n# Compare logs across environments\nwake --context staging -i "ERROR" --output staging-errors.log &\nwake --context production -i "ERROR" --output prod-errors.log &\n'})}),"\n",(0,o.jsx)(n.h3,{id:"context-specific-configuration",children:"Context-Specific Configuration"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"# Set different configurations for different contexts\nwake setconfig --context staging script_outdir /tmp/staging-scripts\nwake setconfig --context production script_outdir /secure/prod-scripts\n\n# View context-specific configuration\nwake getconfig --context staging\n"})}),"\n",(0,o.jsx)(n.h2,{id:"kubeconfig-file-management",children:"Kubeconfig File Management"}),"\n",(0,o.jsx)(n.h3,{id:"custom-kubeconfig-files",children:"Custom Kubeconfig Files"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"# Use a specific kubeconfig file\nwake --kubeconfig ~/.kube/custom-config --ui\n\n# Combine with context selection\nwake --kubeconfig ~/.kube/staging-config --context staging-cluster --ui\n"})}),"\n",(0,o.jsx)(n.h3,{id:"multiple-kubeconfig-files",children:"Multiple Kubeconfig Files"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"# Development environment\nwake --kubeconfig ~/.kube/dev-config --ui\n\n# Staging environment  \nwake --kubeconfig ~/.kube/staging-config --ui\n\n# Production environment (default kubeconfig)\nwake --ui\n"})}),"\n",(0,o.jsx)(n.h2,{id:"namespace-management",children:"Namespace Management"}),"\n",(0,o.jsx)(n.h3,{id:"cross-namespace-monitoring",children:"Cross-Namespace Monitoring"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:'# Monitor all namespaces in current context\nwake --all-namespaces --ui\n\n# Monitor specific namespaces across contexts\nwake --context staging --namespace "app-*" --ui\nwake --context production --namespace "prod-*" --ui\n'})}),"\n",(0,o.jsx)(n.h3,{id:"namespace-patterns",children:"Namespace Patterns"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:'# Use regex patterns for namespace selection\nwake --context staging --namespace "test-.*" --ui\n\n# Monitor multiple specific namespaces\nwake --context production --namespace "frontend,backend,database" --ui\n'})}),"\n",(0,o.jsx)(n.h2,{id:"environment-specific-workflows",children:"Environment-Specific Workflows"}),"\n",(0,o.jsx)(n.h3,{id:"development-workflow",children:"Development Workflow"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"# Quick development cluster access\nexport KUBECONFIG=~/.kube/dev-config\nwake --ui\n\n# Or specify directly\nwake --kubeconfig ~/.kube/dev-config --namespace development --ui\n"})}),"\n",(0,o.jsx)(n.h3,{id:"staging-validation",children:"Staging Validation"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"# Staging environment testing\nwake --context staging-cluster \\\n     --namespace staging \\\n     --template jfr \\\n     --template-args 1234 30s\n"})}),"\n",(0,o.jsx)(n.h3,{id:"production-monitoring",children:"Production Monitoring"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"# Production monitoring with restricted access\nwake --context production-cluster \\\n     --namespace production \\\n     --ui \\\n     --output-file prod-logs.txt\n"})}),"\n",(0,o.jsx)(n.h2,{id:"security-and-best-practices",children:"Security and Best Practices"}),"\n",(0,o.jsx)(n.h3,{id:"context-isolation",children:"Context Isolation"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Separate Kubeconfig Files"}),": Use different kubeconfig files for different environments"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Context Validation"}),": Always verify your current context before running commands"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Namespace Restrictions"}),": Use specific namespaces rather than cluster-wide access when possible"]}),"\n"]}),"\n",(0,o.jsx)(n.h3,{id:"configuration-management",children:"Configuration Management"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"# Verify context before operations\nkubectl config current-context\nwake --ui\n\n# Use read-only contexts for production monitoring\nwake --context prod-readonly --ui\n"})}),"\n",(0,o.jsx)(n.h3,{id:"access-control",children:"Access Control"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"# Limited namespace access\nwake --context limited-access --namespace allowed-ns --ui\n\n# Service account-based access\nwake --kubeconfig ~/.kube/service-account-config --ui\n"})}),"\n",(0,o.jsx)(n.h2,{id:"troubleshooting-context-issues",children:"Troubleshooting Context Issues"}),"\n",(0,o.jsx)(n.h3,{id:"common-problems",children:"Common Problems"}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.strong,{children:"Context Not Found"})}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:'# Error: context "staging" not found\n# Solution: Check available contexts\nkubectl config get-contexts\n'})}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.strong,{children:"Permission Denied"})}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"# Error: pods is forbidden\n# Solution: Verify RBAC permissions for the context\nkubectl auth can-i get pods --context staging\n"})}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.strong,{children:"Kubeconfig Issues"})}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"# Error: invalid configuration\n# Solution: Validate kubeconfig file\nkubectl config view --kubeconfig ~/.kube/custom-config\n"})}),"\n",(0,o.jsx)(n.h3,{id:"debugging-commands",children:"Debugging Commands"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"# Test context connectivity\nkubectl get pods --context staging\n\n# Verify Wake can access the context\nwake --context staging --list-containers\n\n# Check namespace permissions\nkubectl get namespaces --context production\n"})}),"\n",(0,o.jsx)(n.h2,{id:"integration-examples",children:"Integration Examples"}),"\n",(0,o.jsx)(n.h3,{id:"cicd-pipeline-integration",children:"CI/CD Pipeline Integration"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:'#!/bin/bash\n# Deploy and monitor script\n\n# Deploy to staging\nkubectl apply -f deployment.yaml --context staging\n\n# Monitor deployment logs\nwake --context staging --namespace apps -i "deployment" --ui\n\n# After validation, deploy to production\nkubectl apply -f deployment.yaml --context production\nwake --context production --namespace production -i "deployment" --ui\n'})}),"\n",(0,o.jsx)(n.h3,{id:"multi-environment-monitoring",children:"Multi-Environment Monitoring"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:'# Monitor script for multiple environments\n#!/bin/bash\n\necho "Monitoring Development..."\nwake --context dev --namespace apps -i "ERROR" --output dev-errors.log &\n\necho "Monitoring Staging..."\nwake --context staging --namespace apps -i "ERROR" --output staging-errors.log &\n\necho "Monitoring Production..."\nwake --context production --namespace apps -i "ERROR" --output prod-errors.log &\n\nwait\n'})}),"\n",(0,o.jsx)(n.h2,{id:"configuration-tips",children:"Configuration Tips"}),"\n",(0,o.jsxs)(n.ol,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Use Descriptive Context Names"}),": Name contexts clearly (e.g., ",(0,o.jsx)(n.code,{children:"dev-cluster"}),", ",(0,o.jsx)(n.code,{children:"staging-us-west"}),", ",(0,o.jsx)(n.code,{children:"prod-eu-central"}),")"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Set Default Namespaces"}),": Configure default namespaces in your kubeconfig for each context"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Organize Kubeconfig Files"}),": Keep separate kubeconfig files for different environments"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Test Connectivity"}),": Always test context connectivity before important operations"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Document Access Patterns"}),": Maintain documentation of which contexts are used for what purposes"]}),"\n"]}),"\n",(0,o.jsx)(n.p,{children:"With Wake's Kubernetes context management, you can efficiently work across multiple clusters and environments while maintaining security and organization in your log analysis workflows."})]})}function d(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(u,{...e})}):u(e)}},8453(e,n,t){t.d(n,{R:()=>a,x:()=>c});var i=t(6540);const o={},s=i.createContext(o);function a(e){const n=i.useContext(s);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:a(e.components),i.createElement(s.Provider,{value:n},e.children)}}}]);